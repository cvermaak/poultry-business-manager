import { drizzle } from "drizzle-orm/mysql2";
import mysql from "mysql2/promise";
import * as schema from "./drizzle/schema.js";

const connection = await mysql.createConnection(process.env.DATABASE_URL);
const db = drizzle(connection, { schema, mode: "default" });

console.log("ðŸŒ± Seeding health management data...");

// Clear existing data
await db.delete(schema.vaccines);
await db.delete(schema.stressPacks);

// Seed vaccines
const vaccines = [
  {
    name: "Newcastle Disease Vaccine (LaSota)",
    brand: "LaSota ND",
    manufacturer: "Zoetis",
    diseaseType: "newcastle_disease",
    vaccineType: "live",
    applicationMethod: "drinking_water",
    dosagePerBird: "1 dose per bird",
    boosterIntervalDays: 21,
    instructions: "Administer via drinking water. Ensure all birds drink within 2-3 hours. Use dechlorinated water.",
    storageTemperature: "2-8Â°C (refrigerated)",
    shelfLifeDays: 730,
    withdrawalPeriodDays: 0,
    isActive: true,
  },
  {
    name: "Newcastle Disease Vaccine (Hitchner B1)",
    brand: "Hitchner B1",
    manufacturer: "Ceva",
    diseaseType: "newcastle_disease",
    vaccineType: "live",
    applicationMethod: "spray",
    dosagePerBird: "1 dose per bird",
    boosterIntervalDays: 14,
    instructions: "Spray application for day-old chicks. Use coarse spray to avoid respiratory stress.",
    storageTemperature: "2-8Â°C (refrigerated)",
    shelfLifeDays: 730,
    withdrawalPeriodDays: 0,
    isActive: true,
  },
  {
    name: "Infectious Bronchitis Vaccine (H120)",
    brand: "IB H120",
    manufacturer: "MSD Animal Health",
    diseaseType: "infectious_bronchitis",
    vaccineType: "live",
    applicationMethod: "drinking_water",
    dosagePerBird: "1 dose per bird",
    boosterIntervalDays: 21,
    instructions: "Administer via drinking water. Combine with ND vaccine if needed. Use within 2 hours of reconstitution.",
    storageTemperature: "2-8Â°C (refrigerated)",
    shelfLifeDays: 730,
    withdrawalPeriodDays: 0,
    isActive: true,
  },
  {
    name: "Infectious Bronchitis Vaccine (Ma5)",
    brand: "IB Ma5",
    manufacturer: "Zoetis",
    diseaseType: "infectious_bronchitis",
    vaccineType: "live",
    applicationMethod: "spray",
    dosagePerBird: "1 dose per bird",
    boosterIntervalDays: 14,
    instructions: "Spray application for day-old chicks. Provides early protection against IB.",
    storageTemperature: "2-8Â°C (refrigerated)",
    shelfLifeDays: 730,
    withdrawalPeriodDays: 0,
    isActive: true,
  },
  {
    name: "Gumboro Vaccine (Intermediate)",
    brand: "Gumboro Intermediate",
    manufacturer: "Ceva",
    diseaseType: "gumboro",
    vaccineType: "live",
    applicationMethod: "drinking_water",
    dosagePerBird: "1 dose per bird",
    boosterIntervalDays: 14,
    instructions: "Administer at 14-18 days of age. Second dose at 28 days if needed. Use dechlorinated water.",
    storageTemperature: "2-8Â°C (refrigerated)",
    shelfLifeDays: 730,
    withdrawalPeriodDays: 0,
    isActive: true,
  },
  {
    name: "Gumboro Vaccine (Intermediate Plus)",
    brand: "Gumboro Intermediate Plus",
    manufacturer: "Zoetis",
    diseaseType: "gumboro",
    vaccineType: "live",
    applicationMethod: "drinking_water",
    dosagePerBird: "1 dose per bird",
    boosterIntervalDays: 14,
    instructions: "Higher antigenic mass for areas with high Gumboro challenge. Administer at 14-21 days.",
    storageTemperature: "2-8Â°C (refrigerated)",
    shelfLifeDays: 730,
    withdrawalPeriodDays: 0,
    isActive: true,
  },
  {
    name: "ND+IB Combo Vaccine",
    brand: "Nobilis ND+IB",
    manufacturer: "MSD Animal Health",
    diseaseType: "newcastle_disease",
    vaccineType: "live",
    applicationMethod: "drinking_water",
    dosagePerBird: "1 dose per bird",
    boosterIntervalDays: 21,
    instructions: "Combined protection against ND and IB. Administer via drinking water. Booster every 3 weeks.",
    storageTemperature: "2-8Â°C (refrigerated)",
    shelfLifeDays: 730,
    withdrawalPeriodDays: 0,
    isActive: true,
  },
  {
    name: "ND Killed Vaccine",
    brand: "ND Inactivated Oil Emulsion",
    manufacturer: "Zoetis",
    diseaseType: "newcastle_disease",
    vaccineType: "inactivated",
    applicationMethod: "injection",
    dosagePerBird: "0.5ml per bird (SC/IM)",
    boosterIntervalDays: null,
    instructions: "Administer at 18-21 days. Provides long-lasting immunity. Inject subcutaneously or intramuscularly.",
    storageTemperature: "2-8Â°C (refrigerated)",
    shelfLifeDays: 730,
    withdrawalPeriodDays: 0,
    isActive: true,
  },
  {
    name: "Fowl Pox Vaccine",
    brand: "Poulvac Fowl Pox",
    manufacturer: "Zoetis",
    diseaseType: "fowl_pox",
    vaccineType: "live",
    applicationMethod: "wing_web",
    dosagePerBird: "1 dose per bird",
    boosterIntervalDays: null,
    instructions: "Wing-web stab method. Single dose provides lifetime immunity. Check for takes after 7 days.",
    storageTemperature: "2-8Â°C (refrigerated)",
    shelfLifeDays: 730,
    withdrawalPeriodDays: 0,
    isActive: true,
  },
  {
    name: "Coccidiosis Vaccine",
    brand: "Coccivac-B52",
    manufacturer: "MSD Animal Health",
    diseaseType: "coccidiosis",
    vaccineType: "live",
    applicationMethod: "spray",
    dosagePerBird: "1 dose per bird",
    boosterIntervalDays: null,
    instructions: "Spray application at hatchery or day-old. Contains live oocysts. Single dose sufficient.",
    storageTemperature: "2-8Â°C (refrigerated)",
    shelfLifeDays: 365,
    withdrawalPeriodDays: 0,
    isActive: true,
  },
  {
    name: "Marek's Disease Vaccine",
    brand: "Rispens CVI988",
    manufacturer: "Ceva",
    diseaseType: "mareks",
    vaccineType: "live",
    applicationMethod: "injection",
    dosagePerBird: "0.2ml per bird (SC)",
    boosterIntervalDays: null,
    instructions: "Administer at hatchery (day-old). Subcutaneous injection. Provides lifetime immunity.",
    storageTemperature: "-196Â°C (liquid nitrogen)",
    shelfLifeDays: 1825,
    withdrawalPeriodDays: 0,
    isActive: true,
  },
];

await db.insert(schema.vaccines).values(vaccines);
console.log(`âœ… Inserted ${vaccines.length} vaccines`);

// Seed stress packs
const stressPacks = [
  {
    name: "Electrolyte + Vitamin C",
    brand: "Electrovit-C",
    manufacturer: "Kepro",
    activeIngredients: "Sodium chloride, Potassium chloride, Vitamin C, Glucose",
    dosageStrength: "single",
    dosagePerLiter: "1g per liter of water",
    recommendedDurationDays: 3,
    instructions: "Administer during heat stress, transport, or vaccination. Dissolve in cool water. Use for 3-5 days.",
    costPerKg: "R450",
    isActive: true,
  },
  {
    name: "Multivitamin Stress Pack",
    brand: "Vitalyte Plus",
    manufacturer: "Virbac",
    activeIngredients: "Vitamins A, D3, E, K, B-complex, Amino acids",
    dosageStrength: "single",
    dosagePerLiter: "1ml per liter of water",
    recommendedDurationDays: 5,
    instructions: "Use during stress periods, post-vaccination, or disease recovery. Administer for 5-7 days.",
    costPerKg: "R520",
    isActive: true,
  },
  {
    name: "Amino Acid + Electrolyte",
    brand: "Aminovit-E",
    manufacturer: "Bayer",
    activeIngredients: "Essential amino acids, Electrolytes, Vitamin E, Selenium",
    dosageStrength: "single",
    dosagePerLiter: "2ml per liter of water",
    recommendedDurationDays: 3,
    instructions: "Supports growth and recovery. Use during feed changes or stress. Administer for 3-5 days.",
    costPerKg: "R680",
    isActive: true,
  },
  {
    name: "High-Strength Electrolyte (Double)",
    brand: "Electrovit-2X",
    manufacturer: "Kepro",
    activeIngredients: "High-dose electrolytes, Vitamin C, Glucose, Bicarbonate",
    dosageStrength: "double",
    dosagePerLiter: "2g per liter of water",
    recommendedDurationDays: 2,
    instructions: "For severe heat stress or long-distance transport. Use 3 days before transport. Double strength formula.",
    costPerKg: "R580",
    isActive: true,
  },
  {
    name: "Probiotic + Prebiotic Stress Pack",
    brand: "Probio-Guard",
    manufacturer: "Alltech",
    activeIngredients: "Lactobacillus, Bifidobacterium, Prebiotics, Enzymes",
    dosageStrength: "single",
    dosagePerLiter: "1g per liter of water",
    recommendedDurationDays: 7,
    instructions: "Supports gut health during stress. Use during antibiotic treatment or disease challenge. 7-day course.",
    costPerKg: "R750",
    isActive: true,
  },
  {
    name: "Immune Booster Stress Pack",
    brand: "Immuno-Boost",
    manufacturer: "Zoetis",
    activeIngredients: "Beta-glucans, Vitamin C, Vitamin E, Zinc, Selenium",
    dosageStrength: "single",
    dosagePerLiter: "1.5g per liter of water",
    recommendedDurationDays: 5,
    instructions: "Enhances immune response. Use before vaccination or during disease outbreaks. 5-day protocol.",
    costPerKg: "R820",
    isActive: true,
  },
];

await db.insert(schema.stressPacks).values(stressPacks);
console.log(`âœ… Inserted ${stressPacks.length} stress packs`);

console.log("âœ… Health management data seeding complete!");

await connection.end();
